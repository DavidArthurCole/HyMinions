extends ../layouts/default

block append js
	script(src="/js/eventsData.js")
	//- script(src="/js/minionsOperation.js")
	//- script(src="/js/minionsData.js")
	script(src="/js/index.js")

block append variables 
	- var currentPage = "home";
	- var numberOfMinions = 52;

block content
	.container
		h1 Welcome to HyMinions! <img src="images/aotd.png" width="40" height="40"/>

		//- br
		//- .my-box
		//- 	.container
		//- 		h4.announcementsHeader.header: a(href="/contact#contributing") ANNOUNCEMENT
		//- 		p.
		//- 			<i><b>TLDR:</b></i> HyMinions will shut down on 31 October 2023 due to charges by Heroku. 
		//- 			There is an alternative website (<a href="https://hyminions.onrender.com/">https://hyminions.onrender.com/</a>) but it is considerably slower. Ads will stop showing starting now. Of course, <a href="/contact#contributing">the source code</a> will always available on GitHub for you to take reference and even host your own HyMinions.
		//- 		#collapseAnnouncementsJun2023.collapse
		//- 			p Hi everyone! Sorry for not keeping HyMinions up to date with fresh new content for quite some time. The truth is, I have left Skyblock for quite some time already and have been busy with university work. My student credits will expire very soon as they are valid only for one year. I am not motivated to spend money on HyMinions on this occasion. (Heroku started charging since November 2022, visit <a href="https://blog.heroku.com/next-chapter"> here</a>  and <a href="https://www.heroku.com/github-students"> here </a> in case you want to learn more)

		//- 			p Thank you very much to everyone who has visited my website over the past three years. The ad revenue actually is not that much, but it is a massive motivation for me to make it better and create other applications outside Hypixel. Especially:
					
		//- 			ul
		//- 				li My real-life friends who were my beta testers and advisory board
		//- 				li <a href="https://hypixel.net/">Hypixel</a> - HyMinions would not have existed without the amazing game they have made, and also their generous free and easy-to-use API.
		//- 				li <a href="https://youtu.be/_LmqqJtsdrk">ModernSoldier</a> and <a href="https://www.youtube.com/watch?v=mhxDaMPsVxI">Tanker Man 3000</a> for promoting HyMinions and heavily boosted its popularity back in 2020.
		//- 				li Data source providers such as the <a herf="https://hypixel-skyblock.fandom.com/wiki/Minions">SkyBlock Wiki</a>, <a href="https://hypixel.net/threads/spreadsheet-skyblock-minions-v1-7-added-sky-shiiyu-moe-importer.2166857/">TBlazeWarriorT</a>, <a href="https://hypixel.net/threads/api-bazaar-item-names-to-in-game-bazaar-item-json.2845357/">Bozosword and AkaCrafterCZ</a>, without these data readily available I would probably gave up in the middle of making this website.
		//- 				li Discord members who provided more suggestions for me, and are friendly despite my inability in maintaining the Discord server, especially Ã„kwav (<a href="https://sky.coflnet.com/">check out their website</a>). 
		//- 		a.read-more(data-toggle="collapse" href="#collapseAnnouncementsJun2023" aria-expanded="false" aria-controls="collapseAnnouncementsJun2023")
		//- 			span.collapsed Show more
		//- 			span.expanded Show less
		br
		.my-box
			.container
				h4.announcementsHeaderYellow.header: a(href="/minions") <img src="/images/news.png" width="30" height="30"/> UPDATE
				
				p Mini Update - May 2023
				ul
					li Fixed events timer for DST users (the time for events are fixed, the durations have been correct). Unfortunately you still need to click the calibrate button on your own (open to suggestions on how to make it automatic)
					li Added recipe for some new tier 12 minions (please check if there are any input errors)
					li Sort by minion name every slot is now turned off by default to prevent confusion to new users
				p The source code of HyMinions and an API are available publicly now. Click <a href="/contact#contributing">here</a> to view more.

		br
		.my-box
			.container
				h4.eventsHeader.header: a(href="/events") <img src="/images/events.png" width="30" height="30"/> EVENTS 
				h4#eventDescription Loading
				a(href="/events") View other events

		br 
		
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		//-index1
		<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3541192882647315" data-ad-slot="9139447013" data-ad-format="auto" data-full-width-responsive="true"></ins>
		<script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>

		br
		.my-box
			.container
				h4.minionsHeader.header: a(href="/minions") <img src="/images/minions.png" width="30" height="30"/> MINIONS 
				p Type in your Minecraft name and offline duration, then click "Apply" to make your own tailor-made minion list.

				a(href="/minions") Click here for more settings and calculation details
				br
				br
				#minionsInput
					.form-group#useProfile
						p Minecraft Name (Recommended): &nbsp; 
							input#overallProfileName.form-control(value=settings.name)
						if(settings.profileNames)
							label#overallProfileProfileLabel(for="overallProfileProfile") Profile: &nbsp;
							select#overallProfileProfile.form-control
								-let k=0
								while k<settings.profileNames.length
									option(value=k selected=(settings.profile==k?'selected':undefined))=settings.profileNames[k]
									-k++;
					.form-group
						p Offline time: &nbsp; 
							input#overallOfflineTime.form-control(type="number" value=settings.offlineTimeUnit==1?settings.offlineTime/24:settings.offlineTime min="0")
							span &nbsp;
							select#overallOfflineTimeUnit.form-control
								option(value="0" selected=(settings.offlineTimeUnit==0?'selected':undefined)) hour(s)
								option(value="1" selected=(settings.offlineTimeUnit==1?'selected':undefined)) day(s)
						small.pl-3 ^If you are not sure about your offline time, you could leave it as 1 day.
					button#overallSettings.btn(onclick="generateLinkIndex()") Calculate
					span &nbsp; &nbsp; &nbsp;
					button.btn.btn-link.read-more(onclick="clearInput()") Clear
				
				br
				#content
					//- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					//- //-test-index1
					//- <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6880962885436734" data-ad-slot="3142042549" data-ad-format="auto" data-full-width-responsive="true"></ins>
					//- <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>
					
					if settings && settings.run == 0
						h4 Top Profitable Minions
						p Click "Calculate" to show minions profit list.
						#minionsIndexTable
							.row
								.offset-2.col-4.text-center: h5: a(href="/?run=1#content") Minion
								.col-2.text-center: h5: a(href="/?run=1#content") Tier
								.col-4: h5: a(href="/?run=1#content") Total Profit
							- let i = 0
							- let sampleMinionsArray=["Voidling Minion","Tarantula Minion","Lapis Minion","Snow Minion","Melon Minion"]
							while i<5
								.row.align-items-center
									.col-2.text-center
										p.d-inline.p-height-fix: a(href="/?run=1#content") #?
										p.d-none.d-md-inline &nbsp;
										img(src="/images/minions/"+sampleMinionsArray[i]+".png").d-inline
									.col-4.text-center: a(id="minion"+i+"Name" href="/?run=1#content").mb-0=sampleMinionsArray[i].substring(0, sampleMinionsArray[i].lastIndexOf(" "))
									.col-2.text-center: a(id="minion"+i+"Tier" href="/?run=1#content").mb-0=11
									.col-4: a(id="minion"+i+"Profit" href="/?run=1#content").mb-0 Click to calculate
								- i++;
						br
						br
						p: small Based on minions With Enchanted Lava Bucket, Diamond Spreading and Dwarven Super Compactor 3000 equipped. You are expected to sell your products using "sell instantly".
						p: small If you leave Minecraft Name blank, we would estimate the minions you have if you have 23 minion slots.
						a(href="/minions") Click here for more settings and calculation details
					else if settings.hasError
						h1 Error
						p.lead=settings.errorMsg
						h3 Is Hypixel API down?
						p You could check to see if <a href="https://api.hypixel.net/skyblock/bazaar">this link</a> brings you to the raw bazaar data to see if Hypixel API is down.
						p If so, we could not calculate minions profit based on the latest bazaar price. However, you may try <a href="minions/?sellingTo=0">this set of settings</a> to obtain the minions profit in NPC price instead, until the Hypixel API is fixed.
						p You may make a bug report <a href="/contact">here</a> if the above set of settings also does not work. Sorry for the inconvenience caused.
					else if !minions || !settings
						h1 Error
						p.lead An unexpected error has occured.
						h3 Is Hypixel API down?
						p You could check to see if <a href="https://api.hypixel.net/skyblock/bazaar">this link</a> brings you to the raw bazaar data to see if Hypixel API is down.
						p If so, we could not calculate minions profit based on the latest bazaar price. However, you may try <a href="minions/?sellingTo=0">this set of settings</a> to obtain the minions profit in NPC price instead, until the Hypixel API is fixed.
						p You may make a bug report <a href="/contact">here</a> if the above set of settings also does not work. Sorry for the inconvenience caused.
					else
						h4 Top Profitable Minions
						#minionsIndexTable
							.row
								.offset-2.col-4.text-center: h5 Minion
								.col-2.text-center: h5 Tier
								.col-4.totalProfitTitleRightAlign: h5 Total Profit
							- let i = 0
							while i<5
								.row.align-items-center
									.col-2.text-center
										p.d-inline.p-height-fix ##{i+1}
										p.d-none.d-md-inline &nbsp;
										img(src="/images/minions/"+minions[i].name+".png").d-inline
									.col-4.text-center: p(id="minion"+i+"Name").mb-0=minions[i].name.substring(0, minions[i].name.lastIndexOf(" "))
									.col-2.text-center: p(id="minion"+i+"Tier").mb-0=minions[i].tier
									.col-4: p(id="minion"+i+"Profit").mb-0.text-right.totalProfitRightAlign=minions[i].totalProfitText
								- i++;
							
							#collapseMinions.collapse.show
								while i<minions.length
									.row.align-items-center
										.col-2.text-center
											p.d-inline.p-height-fix ##{i+1}
											p.d-none.d-md-inline &nbsp;
											img(src="/images/minions/"+minions[i].name+".png").d-inline
										.col-4.text-center: p(id="minion"+i+"Name").mb-0=minions[i].name.substring(0, minions[i].name.lastIndexOf(" "))
										.col-2.text-center: p(id="minion"+i+"Tier").mb-0=minions[i].tier
										.col-4: p(id="minion"+i+"Profit").mb-0.text-right.totalProfitRightAlign=minions[i].totalProfitText
									- i++;

						a.read-more(data-toggle="collapse" href="#collapseMinions" aria-expanded="true" aria-controls="collapseMinions")
							span.collapsed Show more
							span.expanded Show less
				
						br
						br
						p: small Based on minions With Enchanted Lava Bucket, Diamond Spreading and Dwarven Super Compactor 3000 equipped. You are expected to sell your products using "sell instantly".
						p: small If you leave Minecraft Name blank, we would estimate the minions you have if you have 23 minion slots.
						a(href="/minions") Click here for more settings and calculation details
		br
		.my-box
			.container
				h4.minionsCostHeader.header: a(href="/minionscost") <img src="/images/minionsCost.png" width="30" height="30"/> MINIONS (CRAFTS)
				p It calculates the cheapest minions to level up to gain more minion slots, also tailor-made for each profile if you input your Minecraft name. It also shows you how much money you need to spend on materials to unlock a new minion tier.
				p: a(href="/minionscost") Click to try

		//- br
		//- .my-box
		//- 	.container
		//- 		h4.announcementsHeader.header: a(href="/contact#contributing") ANNOUNCEMENT
		//- 		p The source code of HyMinions and an API are available publicly now. Click <a href="/contact#contributing">here</a> to view more.

		br
		.my-box
			.container
				h4.discordHeader.header: a(href="https://discord.gg/2KabAgsN6Y") <img src="/images/discord.png" width="30" height="30"/> DISCORD
				p Join my Discord server to gain access to various perks
				ul
					li Access to beta content (if applicable)
					li Regular giveaways (Skyblock coins and more)!
					li Join and chat about HyMinions, Hypixel Skyblock or even other games! 
				a(href="https://discord.gg/2KabAgsN6Y") Invite link
				

		//- br
		//- .my-box
		//- 	.container
		//- 		h4.discordHeader.header: a(href="https://discord.gg/2KabAgsN6Y") <img src="/images/discord.png" width="30" height="30"/> DISCORD
		//- 		p I have recently created a Discord server, join and chat about HyMinions, Hypixel Skyblock or even other games! 
		//- 		a(href="https://discord.gg/2KabAgsN6Y") Invite link
				